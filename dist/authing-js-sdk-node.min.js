module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=20)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){if(!n)return;for(var t=0;t<=n.length-1;t++){var r=n[t];if(r instanceof Object){var o=r.name,i=r.type;if(!e[o])throw Error("input.".concat(o," is not provided."));if(i&&!e[o]instanceof i)throw Error("input.".concat(o," must be type ").concat(i))}}}},function(e,n,t){"use strict";var r=t(8),o=t(23),i=Object.prototype.toString;function s(e){return"[object Array]"===i.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===i.call(e)}function d(e,n){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var t=0,r=e.length;t<r;t++)n.call(null,e[t],t,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.call(null,e[o],o,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var n={};function t(t,r){"object"==typeof n[r]&&"object"==typeof t?n[r]=e(n[r],t):n[r]=t}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],t);return n},deepMerge:function e(){var n={};function t(t,r){"object"==typeof n[r]&&"object"==typeof t?n[r]=e(n[r],t):n[r]="object"==typeof t?e({},t):t}for(var r=0,o=arguments.length;r<o;r++)d(arguments[r],t);return n},extend:function(e,n,t){return d(n,(function(n,o){e[o]=t&&"function"==typeof n?r(n,t):n})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,n,t){e.exports=t(22)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r={openSSLSecret:"-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDFPxAu3wqStpqyzuzQSail97oA\nhYnHVpXhd44GvHzZsU2a44/ZngUQK3Mjjon3CVVbPivwGAu2aUazgyxfH9/4CgcF\ni59RJjLhYlkjSG7WDr7CFXoiT0Qf7MUZ9mmvg93vJ/ndwj/S9hM6Lx2dX6H91MU2\n28hK0C1CLq1oBbgoZwIDAQAB\n-----END PUBLIC KEY-----  \n",inBrowser:"undefined"!=typeof window&&"undefined"!=typeof document};n.default=r},function(e,n,t){"use strict";function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function e(n,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts=n,this.UserServiceGql=t,this.lockRefresh=!1}var n,t,o;return n=e,o=[{key:"getInstance",value:function(n,t){return e.instance||(e.instance=new e(n,t)),e.instance}},{key:"destroy",value:function(){e.instance=null}}],(t=[{key:"setUserToken",value:function(n){e.instance.userToken=n}},{key:"setOwnerToken",value:function(n){e.instance.ownerToken=n}},{key:"setToken",value:function(n){return"undefined"==typeof window&&"undefined"==typeof document?e.instance.ownerToken=n:e.instance.userToken=n}},{key:"refreshOwnerToken",value:function(){var e=this;return this.UserServiceGql.request({operationName:"getClientWhenSdkInit",query:'query getClientWhenSdkInit {\n          getClientWhenSdkInit(secret: "'.concat(this.opts.secret,'", clientId: "').concat(this.opts.userPoolId,'") {accessToken}\n        }')}).then((function(n){return e.setOwnerToken(n.accessToken),n}))}},{key:"getToken",value:function(n){var t=this;return new Promise((function(r,o){function i(){n?r("Bearer ".concat(e.instance[n])):e.instance.userToken?r("Bearer ".concat(e.instance.userToken)):e.instance.ownerToken?r("Bearer ".concat(e.instance.ownerToken)):r(null)}if(t.lockRefresh)i();else if(e.instance.ownerToken&&"string"==typeof e.instance.ownerToken){var s=e.instance.ownerToken.split(".")[1],a=Buffer.from(s,"base64").toString();try{var u=JSON.parse(a);new Date(1e3*u.exp)<Date.now()?(t.lockRefresh=!0,t.refreshOwnerToken().then((function(){t.lockRefresh=!1,i()})).catch((function(e){t.lockRefresh=!1,o(e)}))):i()}catch(e){console.log("刷新 token 前置条件失败"),o(e)}}else r(null)}))}}])&&r(n.prototype,t),o&&r(n,o),e}();n.default=o},function(e,n,t){"use strict";var r,o=t(3).default,i=t(57);r=o.inBrowser?function(e){var n=new i.JSEncrypt;return n.setPublicKey(o.openSSLSecret),n.encrypt(e)}:function(e){var n=o.openSSLSecret,t=Buffer.from(e);return i.publicEncrypt({key:Buffer.from(n),padding:i.constants.RSA_PKCS1_PADDING},t).toString("base64")},e.exports=r},function(e,n,t){"use strict";var r=t(1);function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,n,t){if(!n)return e;var i;if(t)i=t(n);else if(r.isURLSearchParams(n))i=n.toString();else{var s=[];r.forEach(n,(function(e,n){null!=e&&(r.isArray(e)?n+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(o(n)+"="+o(e))})))})),i=s.join("&")}if(i){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},function(e,n,t){"use strict";var r=t(12);e.exports=function(e,n,t,o,i){var s=new Error(e);return r(s,n,t,o,i)}},function(e,n,t){"use strict";e.exports=function(e,n){return function(){for(var t=new Array(arguments.length),r=0;r<t.length;r++)t[r]=arguments[r];return e.apply(n,t)}}},function(e,n,t){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,n,t){"use strict";var r=t(1),o=t(28),i={"Content-Type":"application/x-www-form-urlencoded"};function s(e,n){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=n)}var a,u={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?a=t(29):"undefined"!=typeof XMLHttpRequest&&(a=t(43)),a),transformRequest:[function(e,n){return o(n,"Accept"),o(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(s(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},function(e,n,t){"use strict";var r=t(7);e.exports=function(e,n,t){var o=t.config.validateStatus;!o||o(t.status)?e(t):n(r("Request failed with status code "+t.status,t.config,null,t.request,t))}},function(e,n,t){"use strict";e.exports=function(e,n,t,r,o){return e.config=n,t&&(e.code=t),e.request=r,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,n){e.exports=require("http")},function(e,n){e.exports=require("https")},function(e,n,t){var r=t(16),o=t(13),i=t(14),s=t(30),a=t(31).Writable,u=t(32)("follow-redirects"),d={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},c=Object.create(null);function l(e,n){a.call(this),e.headers=e.headers||{},this._options=e,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e.host&&(e.hostname||(e.hostname=e.host),delete e.host),n&&this.on("response",n);var t=this;if(this._onNativeResponse=function(e){t._processResponse(e)},!e.pathname&&e.path){var r=e.path.indexOf("?");r<0?e.pathname=e.path:(e.pathname=e.path.substring(0,r),e.search=e.path.substring(r))}this._performRequest()}function p(e){var n={maxRedirects:21,maxBodyLength:10485760},t={};return Object.keys(e).forEach((function(o){var i=o+":",a=t[i]=e[o],d=n[o]=Object.create(a);d.request=function(e,o){return"string"==typeof e?(e=r.parse(e)).maxRedirects=n.maxRedirects:e=Object.assign({protocol:i,maxRedirects:n.maxRedirects,maxBodyLength:n.maxBodyLength},e),e.nativeProtocols=t,s.equal(e.protocol,i,"protocol mismatch"),u("options",e),new l(e,o)},d.get=function(e,n){var t=d.request(e,n);return t.end(),t}})),n}["abort","aborted","error","socket","timeout"].forEach((function(e){c[e]=function(n){this._redirectable.emit(e,n)}})),l.prototype=Object.create(a.prototype),l.prototype.write=function(e,n,t){if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof n&&(t=n,n=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:n}),this._currentRequest.write(e,n,t)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):t&&t()},l.prototype.end=function(e,n,t){"function"==typeof e?(t=e,e=n=null):"function"==typeof n&&(t=n,n=null);var r=this._currentRequest;this.write(e||"",n,(function(){r.end(null,null,t)}))},l.prototype.setHeader=function(e,n){this._options.headers[e]=n,this._currentRequest.setHeader(e,n)},l.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive","setTimeout"].forEach((function(e){l.prototype[e]=function(n,t){return this._currentRequest[e](n,t)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(l.prototype,e,{get:function(){return this._currentRequest[e]}})})),l.prototype._performRequest=function(){var e=this._options.protocol,n=this._options.nativeProtocols[e];if(n){if(this._options.agents){var t=e.substr(0,e.length-1);this._options.agent=this._options.agents[t]}var o=this._currentRequest=n.request(this._options,this._onNativeResponse);for(var i in this._currentUrl=r.format(this._options),o._redirectable=this,c)i&&o.on(i,c[i]);if(this._isRedirect){var s=0,a=this._requestBodyBuffers;!function e(){if(s<a.length){var n=a[s++];o.write(n.data,n.encoding,e)}else o.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},l.prototype._processResponse=function(e){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:e.statusCode});var n=e.headers.location;if(n&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var t,o=this._options.headers;if(307!==e.statusCode&&!(this._options.method in d))for(t in this._options.method="GET",this._requestBodyBuffers=[],o)/^content-/i.test(t)&&delete o[t];if(!this._isRedirect)for(t in o)/^host$/i.test(t)&&delete o[t];var i=r.resolve(this._currentUrl,n);u("redirecting to",i),Object.assign(this._options,r.parse(i)),this._isRedirect=!0,this._performRequest(),e.destroy()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]},e.exports=p({http:o,https:i}),e.exports.wrap=p},function(e,n){e.exports=require("url")},function(e,n,t){function r(e){var t;function r(){if(r.enabled){var e=r,o=+new Date,i=o-(t||o);e.diff=i,e.prev=t,e.curr=o,t=o;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var o=n.formatters[r];if("function"==typeof o){var i=s[u];t=o.call(e,i),s.splice(u,1),u--}return t})),n.formatArgs.call(e,s),(r.log||n.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),r.destroy=o,"function"==typeof n.init&&n.init(r),n.instances.push(r),r}function o(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}(n=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var i=n.instances[t];i.enabled=n.enabled(i.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=t(34),n.instances=[],n.names=[],n.skips=[],n.formatters={}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n){n=n||{};var t={};return r.forEach(["url","method","params","data"],(function(e){void 0!==n[e]&&(t[e]=n[e])})),r.forEach(["headers","auth","proxy"],(function(o){r.isObject(n[o])?t[o]=r.deepMerge(e[o],n[o]):void 0!==n[o]?t[o]=n[o]:r.isObject(e[o])?t[o]=r.deepMerge(e[o]):void 0!==e[o]&&(t[o]=e[o])})),r.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(r){void 0!==n[r]?t[r]=n[r]:void 0!==e[r]&&(t[r]=e[r])})),t}},function(e,n,t){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,n,t){"use strict";function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var i=t(4).default,s=t(21).GraphQLClient,a=t(2),u=t(51).default,d={useSelfWxapp:!1,enableFetchPhone:!1,timeout:1e4,preflight:!1,cdnPreflight:!1,host:{user:"https://users.authing.cn/graphql",oauth:"https://oauth.authing.cn/graphql"},preflightUrl:{users:"https://users.authing.cn/system/status",oauth:"https://oauth.authing.cn/system/status"},cdnPreflightUrl:"https://usercontents.authing.cn",accessToken:"",userPoolId:"",secret:"",onInitError:function(e){throw e}},c=function e(n){var t=this;if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"_axios",{enumerable:!1,value:a}),this.opts=Object.assign({},d,n),this.version="3.4.1",this.UserServiceGql=new s({baseURL:this.opts.host.user,headers:{Authorization:""},timeout:this.opts.timeout}),this.OAuthServiceGql=new s({baseURL:this.opts.host.oauth,headers:{Authorization:""},timeout:this.opts.timeout}),this.tokenManager=i.getInstance(this.opts,new s({baseURL:this.opts.host.user,headers:{Authorization:""},timeout:this.opts.timeout})),this.opts.accessToken)i.getInstance().setToken(this.opts.accessToken);else if(!this.opts.userPoolId)throw new Error("userPoolId is not provided");this.userPoolId=this.opts.userPoolId,this.secret=this.opts.secret;this.fetchToken=this.UserServiceGql.request({operationName:"getClientWhenSdkInit",query:'query getClientWhenSdkInit {\n          getClientWhenSdkInit(secret: "'.concat(this.opts.secret,'", clientId: "').concat(this.opts.userPoolId,'")').concat("{\n        accessToken\n        clientInfo {\n          _id\n          name\n          descriptions\n          jwtExpired\n          createdAt\n          isDeleted\n          logo\n          emailVerifiedDefault\n          registerDisabled\n          showWXMPQRCode\n          useMiniLogin\n          allowedOrigins\n          clientType {\n            _id\n            name\n            description\n            image\n            example\n          }\n        }\n      }","\n        }")}).then((function(e){if(!e.accessToken)throw console.log("--getClientWhenSdkInit res--"),console.log(e),Error("网络获取 owner token 失败");return i.getInstance().setToken(e.accessToken),t.userPoolSettings=e.clientInfo,e.accessToken})).catch(this.opts.onInitError),this.checkPreflight(),this.authz&&Object.keys(this.authz).forEach((function(e){t.authz[e]=t.authz[e].bind(t)}))};c.prototype=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(t,!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({constructor:c},u),e.exports=c},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GraphQLClient=void 0;var r=i(t(4)),o=i(t(2));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(t,!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var t={timeout:n.timeout||8e3,method:"POST"};this.options=a({},t,{},n)}var n,t,i;return n=e,(t=[{key:"request",value:function(e,n){var t=this;return r.default.getInstance().getToken(n).then((function(n){return t.options=a({},t.options,{headers:{Authorization:n},data:e}),(0,o.default)(t.options).then((function(e){var n=e.data;if(n.errors)throw n.errors[0];var t=Object.keys(n.data)[0];return n.data[t]}))}))}}])&&d(n.prototype,t),i&&d(n,i),e}();n.GraphQLClient=c},function(e,n,t){"use strict";var r=t(1),o=t(8),i=t(24),s=t(18);function a(e){var n=new i(e),t=o(i.prototype.request,n);return r.extend(t,i.prototype,n),r.extend(t,n),t}var u=a(t(10));u.Axios=i,u.create=function(e){return a(s(u.defaults,e))},u.Cancel=t(19),u.CancelToken=t(49),u.isCancel=t(9),u.all=function(e){return Promise.all(e)},u.spread=t(50),e.exports=u,e.exports.default=u},function(e,n){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,n,t){"use strict";var r=t(1),o=t(6),i=t(25),s=t(26),a=t(18);function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var n=[s,void 0],t=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){n.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){n.push(e.fulfilled,e.rejected)}));n.length;)t=t.then(n.shift(),n.shift());return t},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(n,t){return this.request(r.merge(t||{},{method:e,url:n}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(n,t,o){return this.request(r.merge(o||{},{method:e,url:n,data:t}))}})),e.exports=u},function(e,n,t){"use strict";var r=t(1);function o(){this.handlers=[]}o.prototype.use=function(e,n){return this.handlers.push({fulfilled:e,rejected:n}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(n){null!==n&&e(n)}))},e.exports=o},function(e,n,t){"use strict";var r=t(1),o=t(27),i=t(9),s=t(10),a=t(47),u=t(48);function d(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return d(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(n){delete e.headers[n]})),(e.adapter||s.adapter)(e).then((function(n){return d(e),n.data=o(n.data,n.headers,e.transformResponse),n}),(function(n){return i(n)||(d(e),n&&n.response&&(n.response.data=o(n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)}))}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n,t){return r.forEach(t,(function(t){e=t(e,n)})),e}},function(e,n,t){"use strict";var r=t(1);e.exports=function(e,n){r.forEach(e,(function(t,r){r!==n&&r.toUpperCase()===n.toUpperCase()&&(e[n]=t,delete e[r])}))}},function(e,n,t){"use strict";var r=t(1),o=t(11),i=t(6),s=t(13),a=t(14),u=t(15).http,d=t(15).https,c=t(16),l=t(41),p=t(42),f=t(7),h=t(12),m=/https:?/;e.exports=function(e){return new Promise((function(n,t){var g,v=function(e){clearTimeout(g),n(e)},y=function(e){clearTimeout(g),t(e)},_=e.data,C=e.headers;if(C["User-Agent"]||C["user-agent"]||(C["User-Agent"]="axios/"+p.version),_&&!r.isStream(_)){if(Buffer.isBuffer(_));else if(r.isArrayBuffer(_))_=Buffer.from(new Uint8Array(_));else{if(!r.isString(_))return y(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));_=Buffer.from(_,"utf-8")}C["Content-Length"]=_.length}var b=void 0;e.auth&&(b=(e.auth.username||"")+":"+(e.auth.password||""));var A=c.parse(e.url),R=A.protocol||"http:";if(!b&&A.auth){var w=A.auth.split(":");b=(w[0]||"")+":"+(w[1]||"")}b&&delete C.Authorization;var $=m.test(R),S=$?e.httpsAgent:e.httpAgent,P={path:i(A.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:C,agent:S,auth:b};e.socketPath?P.socketPath=e.socketPath:(P.hostname=A.hostname,P.port=A.port);var I,k=e.proxy;if(!k&&!1!==k){var B=R.slice(0,-1)+"_proxy",q=process.env[B]||process.env[B.toUpperCase()];if(q){var O=c.parse(q),U=process.env.no_proxy||process.env.NO_PROXY,T=!0;if(U)T=!U.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||("."===e[0]&&A.hostname.substr(A.hostname.length-e.length)===e&&e.match(/\./g).length===A.hostname.match(/\./g).length||A.hostname===e))}));if(T&&(k={host:O.hostname,port:O.port},O.auth)){var E=O.auth.split(":");k.auth={username:E[0],password:E[1]}}}}if(k&&(P.hostname=k.host,P.host=k.host,P.headers.host=A.hostname+(A.port?":"+A.port:""),P.port=k.port,P.path=R+"//"+A.hostname+(A.port?":"+A.port:"")+P.path,k.auth)){var x=Buffer.from(k.auth.username+":"+k.auth.password,"utf8").toString("base64");P.headers["Proxy-Authorization"]="Basic "+x}var M=$&&(!k||m.test(k.protocol));e.transport?I=e.transport:0===e.maxRedirects?I=M?a:s:(e.maxRedirects&&(P.maxRedirects=e.maxRedirects),I=M?d:u),e.maxContentLength&&e.maxContentLength>-1&&(P.maxBodyLength=e.maxContentLength);var j=I.request(P,(function(n){if(!j.aborted){var t=n;switch(n.headers["content-encoding"]){case"gzip":case"compress":case"deflate":t=204===n.statusCode?t:t.pipe(l.createUnzip()),delete n.headers["content-encoding"]}var r=n.req||j,i={status:n.statusCode,statusText:n.statusMessage,headers:n.headers,config:e,request:r};if("stream"===e.responseType)i.data=t,o(v,y,i);else{var s=[];t.on("data",(function(n){s.push(n),e.maxContentLength>-1&&Buffer.concat(s).length>e.maxContentLength&&(t.destroy(),y(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,r)))})),t.on("error",(function(n){j.aborted||y(h(n,e,null,r))})),t.on("end",(function(){var n=Buffer.concat(s);"arraybuffer"!==e.responseType&&(n=n.toString(e.responseEncoding)),i.data=n,o(v,y,i)}))}}}));j.on("error",(function(n){j.aborted||y(h(n,e,null,j))})),e.timeout&&(g=setTimeout((function(){j.abort(),y(f("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",j))}),e.timeout)),e.cancelToken&&e.cancelToken.promise.then((function(e){j.aborted||(j.abort(),y(e))})),r.isStream(_)?_.on("error",(function(n){y(h(n,e,null,j))})).pipe(j):j.end(_)}))}},function(e,n){e.exports=require("assert")},function(e,n){e.exports=require("stream")},function(e,n,t){"undefined"==typeof process||"renderer"===process.type?e.exports=t(33):e.exports=t(35)},function(e,n,t){function r(){var e;try{e=n.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(n=e.exports=t(17)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var o=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))})),e.splice(i,0,r)},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}},n.load=r,n.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},n.enable(r())},function(e,n){var t=1e3,r=60*t,o=60*r,i=24*o,s=365.25*i;function a(e,n,t){if(!(e<n))return e<1.5*n?Math.floor(e/n)+" "+t:Math.ceil(e/n)+" "+t+"s"}e.exports=function(e,n){n=n||{};var u,d=typeof e;if("string"===d&&e.length>0)return function(e){if((e=String(e)).length>100)return;var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!n)return;var a=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===d&&!1===isNaN(e))return n.long?a(u=e,i,"day")||a(u,o,"hour")||a(u,r,"minute")||a(u,t,"second")||u+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=o)return Math.round(e/o)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,n,t){var r=t(36),o=t(37);(n=e.exports=t(17)).init=function(e){e.inspectOpts={};for(var t=Object.keys(n.inspectOpts),r=0;r<t.length;r++)e.inspectOpts[t[r]]=n.inspectOpts[t[r]]},n.log=function(){return process.stderr.write(o.format.apply(o,arguments)+"\n")},n.formatArgs=function(e){var t=this.namespace;if(this.useColors){var r=this.color,o="[3"+(r<8?r:"8;5;"+r),i="  "+o+";1m"+t+" [0m";e[0]=i+e[0].split("\n").join("\n"+i),e.push(o+"m+"+n.humanize(this.diff)+"[0m")}else e[0]=(n.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+t+" "+e[0]},n.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},n.load=s,n.useColors=function(){return"colors"in n.inspectOpts?Boolean(n.inspectOpts.colors):r.isatty(process.stderr.fd)},n.colors=[6,2,3,4,5,1];try{var i=t(38);i&&i.level>=2&&(n.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}function s(){return process.env.DEBUG}n.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,n){var t=n.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,n){return n.toUpperCase()})),r=process.env[n];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[t]=r,e}),{}),n.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},n.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)},n.enable(s())},function(e,n){e.exports=require("tty")},function(e,n){e.exports=require("util")},function(e,n,t){"use strict";const r=t(39),o=t(40),{env:i}=process;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(0===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&void 0===s)return 0;const n=s||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in i)||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)?1:"COLORTERM"in i?1:n}(e))}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?s=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=1),"FORCE_COLOR"in i&&(s=!0===i.FORCE_COLOR||"true"===i.FORCE_COLOR?1:!1===i.FORCE_COLOR||"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,n){e.exports=require("os")},function(e,n,t){"use strict";e.exports=(e,n)=>{n=n||process.argv;const t=e.startsWith("-")?"":1===e.length?"-":"--",r=n.indexOf(t+e),o=n.indexOf("--");return-1!==r&&(-1===o||r<o)}},function(e,n){e.exports=require("zlib")},function(e){e.exports=JSON.parse('{"name":"axios","version":"0.19.0","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test && bundlesize","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://github.com/axios/axios","devDependencies":{"bundlesize":"^0.17.0","coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^5.2.0","sinon":"^4.5.0","typescript":"^2.8.1","url-search-params":"^0.10.0","webpack":"^1.13.1","webpack-dev-server":"^1.14.1"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"typings":"./index.d.ts","dependencies":{"follow-redirects":"1.5.10","is-buffer":"^2.0.2"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')},function(e,n,t){"use strict";var r=t(1),o=t(11),i=t(6),s=t(44),a=t(45),u=t(7);e.exports=function(e){return new Promise((function(n,d){var c=e.data,l=e.headers;r.isFormData(c)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(f+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var t="getAllResponseHeaders"in p?s(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:t,config:e,request:p};o(n,d,r),p=null}},p.onabort=function(){p&&(d(u("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){d(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){d(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var m=t(46),g=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;g&&(l[e.xsrfHeaderName]=g)}if("setRequestHeader"in p&&r.forEach(l,(function(e,n){void 0===c&&"content-type"===n.toLowerCase()?delete l[n]:p.setRequestHeader(n,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(n){if("json"!==e.responseType)throw n}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),d(e),p=null)})),void 0===c&&(c=null),p.send(c)}))}},function(e,n,t){"use strict";var r=t(1),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var n,t,i,s={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),n=r.trim(e.substr(0,i)).toLowerCase(),t=r.trim(e.substr(i+1)),n){if(s[n]&&o.indexOf(n)>=0)return;s[n]="set-cookie"===n?(s[n]?s[n]:[]).concat([t]):s[n]?s[n]+", "+t:t}})),s):s}},function(e,n,t){"use strict";var r=t(1);e.exports=r.isStandardBrowserEnv()?function(){var e,n=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");function o(e){var r=e;return n&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return e=o(window.location.href),function(n){var t=r.isString(n)?o(n):n;return t.protocol===e.protocol&&t.host===e.host}}():function(){return!0}},function(e,n,t){"use strict";var r=t(1);e.exports=r.isStandardBrowserEnv()?{write:function(e,n,t,o,i,s){var a=[];a.push(e+"="+encodeURIComponent(n)),r.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,n,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,n,t){"use strict";e.exports=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}},function(e,n,t){"use strict";var r=t(19);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var t=this;e((function(e){t.reason||(t.reason=new r(e),n(t.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(n){e=n})),cancel:e}},e.exports=o},function(e,n,t){"use strict";e.exports=function(e){return function(n){return e.apply(null,n)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=ee(t(52)),o=ee(t(53)),i=ee(t(54)),s=ee(t(55)),a=ee(t(56)),u=ee(t(59)),d=ee(t(60)),c=ee(t(61)),l=ee(t(62)),p=ee(t(63)),f=ee(t(64)),h=ee(t(65)),m=ee(t(66)),g=ee(t(68)),v=ee(t(69)),y=ee(t(70)),_=ee(t(71)),C=ee(t(72)),b=ee(t(73)),A=ee(t(74)),R=ee(t(75)),w=ee(t(76)),$=ee(t(77)),S=ee(t(78)),P=ee(t(79)),I=ee(t(80)),k=ee(t(81)),B=ee(t(82)),q=ee(t(83)),O=ee(t(84)),U=ee(t(85)),T=ee(t(86)),E=ee(t(87)),x=ee(t(88)),M=ee(t(89)),j=ee(t(90)),G=ee(t(91)),L=ee(t(92)),F=ee(t(93)),N=ee(t(94)),D=ee(t(95)),V=ee(t(96)),z=ee(t(97)),H=ee(t(98)),Q=(ee(t(99)),ee(t(100)),ee(t(101)),ee(t(102)),ee(t(103)),ee(t(104)),ee(t(105)),ee(t(106)),ee(t(107))),W=ee(t(108)),J=ee(t(109)),K=ee(t(110)),X=ee(t(148)),Z=ee(t(149)),Y=ee(t(150));function ee(e){return e&&e.__esModule?e:{default:e}}var ne={bindOAuth:o.default,cdnPreflightFun:i.default,changeMFA:s.default,changePassword:a.default,checkLoginStatus:u.default,checkPreflight:d.default,checkQR:c.default,decodeToken:p.default,genQRCode:m.default,getAuthedAppList:f.default,getVerificationCode:h.default,login:v.default,loginByLDAP:y.default,loginByPhoneCode:_.default,logout:C.default,preflightFun:b.default,queryMFA:A.default,readOAuthList:$.default,readUserOAuthList:S.default,register:I.default,revokeAuthedApp:q.default,sendResetPasswordEmail:O.default,sendVerifyEmail:U.default,unbindEmail:T.default,unbindOAuth:E.default,update:x.default,user:M.default,verifyResetPasswordVerifyCode:G.default,getUserPoolSettings:F.default,updatePhone:V.default,updateEmail:z.default,sendChangeEmailVerifyCode:H.default,userPermissionList:X.default,userRoleList:Y.default,userGroupList:Z.default,loginByPhonePassword:Q.default,sendOneTimePhoneCode:W.default,sendRegisterPhoneCode:J.default},te=ne=Object.assign(ne,{createRole:l.default,assignUserToRole:r.default,list:g.default,queryPermissions:R.default,queryRoles:w.default,refreshToken:P.default,remove:k.default,removeUserFromRole:B.default,userPatch:j.default,updateRolePermissions:L.default,sendActivationEmail:N.default,getUsersByRole:D.default,authz:K.default});n.default=te},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided.");var t={client:this.userPoolId,group:e.roleId,user:e.user};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"AssignUserToRole",query:"\n      mutation AssignUserToRole(\n        $group: String!\n        $client: String!\n        $user: String!\n      ) {\n        assignUserToRole(\n          group: $group\n          client: $client\n          user: $user\n        ) {\n          totalCount,\n          list {\n            _id,\n            client {\n              _id\n            },\n            user {\n              _id\n            },\n            createdAt\n          }\n        }\n      }\n    ",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.type)throw Error("type in options is not provided");if(!e.unionid)throw Error("unionid in options is not provided");if(!e.userInfo)throw Error("userInfo in options is not provided");return this.UserServiceGql.request({operationName:"bindOtherOAuth",query:"mutation bindOtherOAuth(\n      $user: String,\n      $client: String,\n      $type: String!,\n      $unionid: String!,\n      $userInfo: String!\n    ) {\n      bindOtherOAuth (\n        user: $user,\n        client: $client,\n        type: $type,\n        unionid: $unionid,\n        userInfo: $userInfo\n      ) {\n        _id\n        user\n        client\n        type\n        userInfo\n        unionid\n        createdAt\n      }\n    }",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return o.default.get(this.opts.cdnPreflightUrl).catch((function(e){throw Error("CDN 服务预检失败")}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={userPoolId:this.opts.userPoolId,userId:e.userId,enable:e.enable};return this.UserServiceGql.request({operationName:"changeMFA",query:"\n      mutation changeMFA($_id: String,$userId: String,$userPoolId: String,$enable: Boolean!, $refreshKey: Boolean) {\n        changeMFA(_id: $_id, userId: $userId, userPoolId: $userPoolId, enable: $enable, refreshKey: $refreshKey) {\n            _id\n            userId\n            userPoolId\n            shareKey\n            enable\n        }\n    }",variables:n},"userToken")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.email)throw Error("email in options is not provided");if(!e.password)throw Error("password in options is not provided");if(!e.verifyCode)throw Error("verifyCode in options is not provided");return e.client=this.userPoolId,e.password=(0,o.default)(e.password),this.UserServiceGql.request({operationName:"changePassword",query:"\n      mutation changePassword(\n        $email: String!,\n        $client: String!,\n        $password: String!,\n        $verifyCode: String!\n      ){\n        changePassword(\n          email: $email,\n          client: $client,\n          password: $password,\n          verifyCode: $verifyCode\n        ) {\n          _id\n          email\n          emailVerified\n          username\n          nickname\n          company\n          photo\n          browser\n          registerInClient\n          registerMethod\n          oauth\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n        }\n      }\n    ",variables:e})};var r,o=(r=t(5))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";e.exports=t(58)},function(e,n){e.exports=require("crypto")},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.UserServiceGql.request({operationName:"checkLoginStatus",query:"query checkLoginStatus($token: String) {\n      checkLoginStatus(token: $token) {\n        status\n        code\n        message\n        token {\n          data {\n            email\n            id\n            clientId\n            unionid\n          }\n          iat\n          exp\n        }\n      }\n    }",variables:{token:e}},"userToken")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=Promise.resolve("ok"),n=Promise.resolve("ok");this.opts.preflight&&(e=this.preflightFun().catch(this.opts.onInitError));this.opts.cdnPreflight&&(n=this.cdnPreflightFun().catch(this.opts.onInitError));return[e,n]}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n;n=void 0===e?"undefined"!=typeof sessionStorage&&sessionStorage.randomWord||"":e;var t=this.opts.host.oauth;return t=t.replace("/graphql",""),o.default.post("".concat(t,"/oauth/wxapp/confirm/qr?random=").concat(n,"&useSelfWxapp=").concat(this.opts.useSelfWxapp))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided.");var t={client:this.opts.userPoolId,name:e.name,descriptions:e.descriptions};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"CreateRole",query:"\n        mutation CreateRole(\n          $name: String!\n          $client: String!\n          $descriptions: String\n        ) {\n          createRole(\n            name: $name\n            client: $client\n            descriptions: $descriptions\n          ) {\n            _id,\n            name,\n            client,\n            descriptions\n          }\n        }\n      ",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.UserServiceGql.request({operationName:"decodeJwtToken",query:"query decodeJwtToken($token: String) {\n      decodeJwtToken(token: $token) {\n          data {\n            email\n            id\n            clientId\n          }\n          status {\n            code\n            message\n          }\n          iat\n          exp\n        }\n      }",variables:{token:e}})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={clientId:this.userPoolId,userId:e.userId,page:e.page,count:e.count};return this.OAuthServiceGql.request({operationName:"GetUserAuthorizedApps",query:"\n    query GetUserAuthorizedApps($clientId: String, $userId: String, $page: Int, $count: Int) {\n      GetUserAuthorizedApps(clientId: $clientId, userId: $userId, page: $page, count: $count) {\n          OAuthApps {\n              _id\n              name\n              domain\n              clientId\n              description\n              isDeleted\n              grants\n              redirectUris\n              when\n          }\n          OIDCApps {\n              _id\n              name\n              client_id\n              domain\n              description\n              authorization_code_expire\n              when\n              isDeleted\n              id_token_signed_response_alg\n              response_types\n              grant_types\n              token_endpoint_auth_method\n              redirect_uris\n              image\n              access_token_expire\n              id_token_expire\n              cas_expire\n  \n          }\n          totalCount\n      }\n  }",variables:n})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw"phone is not provided";var n="".concat(this.opts.host.user.replace("/graphql",""),"/send_smscode/").concat(e,"/").concat(this.userPoolId);return o.default.get(n).then((function(e){if(200!==e.data.code)throw Error(JSON.stringify(e.data));return e.data}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=(0,i.randomWord)(!0,12,24);"undefined"!=typeof sessionStorage&&(sessionStorage.randomWord=n);var t=this.opts.host.oauth;return t=t.replace("/graphql",""),o.default.get("".concat(t,"/oauth/wxapp/qrcode/").concat(e,"?random=").concat(n,"&useSelfWxapp=").concat(this.opts.useSelfWxapp,"&enableFetchPhone=").concat(this.opts.enableFetchPhone))};var r,o=(r=t(2))&&r.__esModule?r:{default:r},i=t(67)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.randomWord=function(e,n,t){var r="",o=n,i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];e&&(o=Math.round(Math.random()*(t-n))+n);for(var s=0;s<o;s+=1){var a=Math.round(Math.random()*(i.length-1));r+=i[a]}return r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n,t){var r=this;e=e||1,n=n||10,t=t||{populate:!1};var o={registerInClient:this.userPoolId,page:e,count:n,populate:t.populate};return this.fetchToken.then((function(){return r.UserServiceGql.request({operationName:"users",query:"query users($registerInClient: String, $page: Int, $count: Int, $populate: Boolean){\n      users(registerInClient: $registerInClient, page: $page, count: $count, populate: $populate) {\n          totalCount\n          list {\n          _id\n          email\n          emailVerified\n          username\n          nickname\n          phone\n          unionid\n          oauth\n          company\n          photo\n          browser\n          password\n          registerInClient\n          registerMethod\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n          userLocation {\n            _id\n            when\n            where\n          }\n          userLoginHistory {\n            totalCount\n            list{\n              _id\n              when\n              success\n              ip\n              result\n            }\n          }\n        }\n      }\n    }",variables:o},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");e.registerInClient=this.opts.userPoolId,e.password&&(e.password=(0,r.default)(e.password));o.default.inBrowser&&(e.browser=window.navigator.userAgent);return this.UserServiceGql.request({operationName:"login",query:"mutation login($unionid: String, $email: String, $username: String, $password: String, $lastIP: String, $registerInClient: String!, $verifyCode: String, $browser: String, $openid: String, $MFACode: String) {\n        login(unionid: $unionid, email: $email, username: $username, password: $password, lastIP: $lastIP, registerInClient: $registerInClient, verifyCode: $verifyCode, browser: $browser, openid: $openid, MFACode: $MFACode) {\n          _id\n          email\n          emailVerified\n          unionid\n          openid\n          oauth\n          registerMethod\n          username\n          nickname\n          company\n          photo\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n        }\n    }",variables:e}).then((function(e){return e&&e.token&&(i.default.getInstance().setUserToken(e.token),o.default.inBrowser&&localStorage.setItem("_authing_token",e.token)),e}))};var r=s(t(5)),o=s(t(3)),i=s(t(4));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");if(e.clientId=this.userPoolId,!e.password)throw Error("password is not provided.");if(!e.username)throw Error("username is not provided.");r.default.inBrowser&&(e.browser=window.navigator.userAgent);return this.OAuthServiceGql.request({operationName:"LoginByLDAP",query:"mutation LoginByLDAP($username: String!, $password: String!, $clientId: String!, $browser: String) {\n    LoginByLDAP(username: $username, clientId: $clientId, password: $password, browser: $browser) {\n        _id\n        email\n        emailVerified\n        unionid\n        openid\n        oauth\n        registerMethod\n        username\n        nickname\n        company\n        photo\n        browser\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n      }\n    }",variables:e}).then((function(e){return e&&e.token&&(o.default.getInstance().setUserToken(e.token),r.default.inBrowser&&localStorage.setItem("_authing_token",e.token)),e}))};var r=i(t(3)),o=i(t(4));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={registerInClient:this.userPoolId,phone:e.phone,phoneCode:parseInt(e.phoneCode,10)};r.default.inBrowser&&(n.browser=window.navigator.userAgent);return this.UserServiceGql.request({operationName:"login",query:"mutation login($phone: String, $phoneCode: Int, $registerInClient: String!, $browser: String) {\n        login(phone: $phone, phoneCode: $phoneCode, registerInClient: $registerInClient, browser: $browser) {\n          _id\n          email\n          unionid\n          openid\n          emailVerified\n          username\n          nickname\n          phone\n          company\n          photo\n          browser\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n        }\n    }",variables:n}).then((function(e){return e&&e.token&&(o.default.getInstance().setUserToken(e.token),r.default.inBrowser&&localStorage.setItem("_authing_token",e.token)),e}))};var r=i(t(3)),o=i(t(4));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("_id is not provided");r.default.inBrowser&&localStorage.removeItem("_authing_token");return this.update({_id:e,tokenExpiredAt:"0"}).then((function(e){return o.default.getInstance().setUserToken(null),e}))};var r=i(t(3)),o=i(t(4));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=this;return Promise.all([o.default.get(this.opts.preflightUrl.users),o.default.get(this.opts.preflightUrl.oauth)]).catch((function(n){throw n.config.url===e.opts.preflightUrl.users?Error("用户服务网络预检失败"):n.config.url===e.opts.preflightUrl.oauth?Error("认证服务网络预检失败"):n}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={userPoolId:this.opts.userPoolId,userId:e.userId};return this.UserServiceGql.request({operationName:"queryMFA",query:"\n      query queryMFA($_id: String,$userId: String,$userPoolId: String) {\n        queryMFA(_id: $_id, userId: $userId, userPoolId: $userPoolId) {\n          _id\n          userId\n          userPoolId\n          enable\n          shareKey\n        }\n      }",variables:n})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("userId is not provided.");var t={client:this.userPoolId,user:e};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRoleByUserId",query:"query QueryRoleByUserId($user: String!, $client: String!){\n      queryRoleByUserId(user: $user, client: $client) {\n        totalCount\n        list {\n          group {\n            name\n            permissions\n          }\n        }\n      }\n    }",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided.");var t={clientId:this.userPoolId,page:e.page,count:e.count};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"ClientRoles",query:"\n      query ClientRoles(\n        $clientId: String!\n        $page: Int\n        $count: Int\n      ) {\n        clientRoles(\n          client: $clientId\n          page: $page\n          count: $count\n        ) {\n          totalCount\n          list {\n            _id\n            name\n            descriptions\n            client\n            createdAt\n            permissions\n          }\n        }\n      }\n    ",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(t,!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n={};e&&(n=e);return this.OAuthServiceGql.request({operationName:"ReadOauthList",query:"query ReadOauthList($clientId: String!, $useGuard: Boolean) {\n      ReadOauthList(clientId: $clientId, useGuard: $useGuard) {\n          _id\n          name\n          image\n          description\n          enabled\n          client\n          user\n          url\n          alias\n      }\n    }",variables:o({clientId:this.userPoolId},n)}).then((function(e){return e.filter((function(e){return e.enabled}))}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.OAuthServiceGql.request({operationName:"notBindOAuthList",query:"query notBindOAuthList($user: String, $client: String) {\n      notBindOAuthList(user: $user, client: $client) {\n        type\n        oAuthUrl\n        image\n        name\n        binded\n      }\n    }",variables:e},"userToken")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={client:this.userPoolId,user:e.user};return this.UserServiceGql.request({operationName:"RefreshToken",query:"\n      mutation RefreshToken(\n        $client: String!\n        $user: String!\n      ) {\n        refreshToken(\n          client: $client\n          user: $user\n        ) {\n          token\n          iat\n          exp\n        }\n      }\n    ",variables:n},"ownerToken")}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");e.registerInClient=this.userPoolId,e.password&&(e.password=(0,o.default)(e.password));r.default.inBrowser&&(e.browser=window.navigator.userAgent);return this.UserServiceGql.request({operationName:"register",query:"\n    mutation register(\n      $unionid: String,\n      $openid: String,\n      $email: String,\n      $phone: String,\n      $phoneCode: String,\n      $password: String,\n      $lastIP: String,\n      $gender: String,\n      $birthdate: String,\n      $region: String,\n      $locality: String,\n      $name: String,\n      $givenName: String,\n      $familyName: String,\n      $middleName: String,\n      $profile: String,\n      $preferredUsername: String,\n      $website: String,\n      $zoneinfo: String,\n      $locale: String,\n      $address: String,\n      $formatted: String,\n      $streetAddress: String,\n      $postalCode: String,\n      $country: String,\n      $updatedAt: String,\n      $forceLogin: Boolean,\n      $registerInClient: String!,\n      $oauth: String,\n      $username: String,\n      $nickname: String,\n      $registerMethod: String,\n      $photo: String,\n      $company: String,\n      $browser: String,\n      $invitationCode: String,\n      $keepPassword: Boolean\n    ) {\n        register(keepPassword: $keepPassword, invitationCode: $invitationCode, userInfo: {\n          unionid: $unionid,\n          openid: $openid,\n          email: $email,\n          phone: $phone,\n          phoneCode: $phoneCode,\n          password: $password,\n          lastIP: $lastIP,\n          forceLogin: $forceLogin,\n          registerInClient: $registerInClient,\n          oauth: $oauth,\n          registerMethod: $registerMethod,\n          name: $name,\n          givenName: $givenName,\n          familyName: $familyName,\n          middleName: $middleName,\n          profile: $profile,\n          preferredUsername: $preferredUsername,\n          website: $website,\n          zoneinfo: $zoneinfo,\n          locale: $locale,\n          address: $address,\n          formatted: $formatted,\n          streetAddress: $streetAddress,\n          postalCode: $postalCode,\n          country: $country,\n          updatedAt: $updatedAt,\n          gender: $gender,\n          birthdate: $birthdate,\n          region: $region,\n          locality: $locality,\n          photo: $photo,\n          username: $username,\n          nickname: $nickname,\n          company: $company,\n          browser: $browser,\n        }) {\n            _id,\n            email,\n            phone,\n            emailVerified,\n            unionid,\n            openid,\n            oauth,\n            registerMethod,\n            username,\n            nickname,\n            company,\n            photo,\n            browser,\n            password,\n            token,\n            group {\n              name\n            },\n            blocked,\n            device\n        }\n    }",variables:e})};var r=i(t(3)),o=i(t(5));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;if(!e)throw Error("_id is not provided");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"removeUsers",query:"mutation removeUsers($ids: [String], $registerInClient: String, $operator: String) {\n      removeUsers(ids: $ids, registerInClient: $registerInClient, operator: $operator) {\n        _id\n      }\n    }",variables:{ids:[e],registerInClient:t.userPoolId,operator:n}},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided.");var t={client:this.userPoolId,user:e.user,group:e.roleId};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"RemoveUserFromGroup",query:"\n      mutation RemoveUserFromGroup(\n        $group: String!\n        $client: String!\n        $user: String!\n      ) {\n        removeUserFromGroup(\n          group: $group\n          client: $client\n          user: $user\n        ) {\n          _id,\n          group {\n            _id\n          },\n          client {\n            _id\n          },\n          user {\n            _id\n          }\n        }\n      }\n    ",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");var n={userPoolId:this.userPoolId,userId:e.userId,appId:e.appId};return this.OAuthServiceGql.request({operationName:"RevokeUserAuthorizedApp",query:"\n    mutation RevokeUserAuthorizedApp($userPoolId: String, $userId: String, $appId: String) {\n      RevokeUserAuthorizedApp(userPoolId: $userPoolId, userId: $userId, appId: $appId) {\n          isRevoked\n          _id\n          scope\n          appId\n          userId\n          type\n          when\n      }\n    }",variables:n})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.email)throw Error("email in options is not provided");return e.client=this.userPoolId,this.UserServiceGql.request({operationName:"sendResetPasswordEmail",query:"\n      mutation sendResetPasswordEmail(\n        $email: String!,\n        $client: String!\n      ){\n        sendResetPasswordEmail(\n          email: $email,\n          client: $client\n        ) {\n            message\n            code\n        }\n      }\n    ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e.email)throw Error("email in options is not provided");return e.client=this.userPoolId,this.UserServiceGql.request({operationName:"sendVerifyEmail",query:"\n      mutation sendVerifyEmail(\n        $email: String!,\n        $client: String!\n      ){\n        sendVerifyEmail(\n          email: $email,\n          client: $client\n        ) {\n          message,\n          code,\n          status\n        }\n      }\n    ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.UserServiceGql.request({operationName:"unbindEmail",query:"mutation unbindEmail(\n      $user: String,\n      $client: String,\n    ){\n      unbindEmail(\n        user: $user,\n        client: $client,\n      ) {\n        _id\n        email\n        emailVerified\n        username\n        nickname\n        company\n        photo\n        browser\n        registerInClient\n        registerMethod\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n      }\n    }",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.type)throw Error("type in options is not provided");return this.UserServiceGql.request({operationName:"unbindOtherOAuth",query:"mutation unbindOtherOAuth(\n      $user: String,\n      $client: String,\n      $type: String!\n    ){\n      unbindOtherOAuth(\n        user: $user,\n        client: $client,\n        type: $type\n      ) {\n        _id\n        user\n        client\n        type\n        userInfo\n        unionid\n        createdAt\n      }\n    }",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided");if(!e._id)throw Error("_id in options is not provided");e.password&&(e.password=(0,o.default)(e.password),e.oldPassword=(0,o.default)(e.oldPassword));e.registerInClient=this.userPoolId;var t={_id:"String!",email:"String",emailVerified:"Boolean",username:"String",nickname:"String",company:"String",photo:"String",oauth:"String",browser:"String",password:"String",oldPassword:"String",registerInClient:"String!",phone:"String",token:"String",tokenExpiredAt:"String",loginsCount:"Int",lastLogin:"String",lastIP:"String",signedUp:"String",blocked:"Boolean",isDeleted:"Boolean"},r="_id\n    email\n    emailVerified\n    username\n    nickname\n    company\n    photo\n    browser\n    registerInClient\n    registerMethod\n    oauth\n    phone\n    token\n    tokenExpiredAt\n    loginsCount\n    lastLogin\n    lastIP\n    signedUp\n    blocked\n    isDeleted";function i(e){var n,r=[],o=[];for(var i in e)t[i]&&(r.push("$".concat(i,": ").concat(t[i])),o.push("".concat(i,": $").concat(i)));return n=r.join(", "),{args:r,argsString:n,argsFiller:o}}if(e.photo){if("string"!=typeof e.photo)return this._uploadAvatar(e).then((function(e){var t=i(e);return n.UserServiceGql.request({operationName:"UpdateUser",query:"\n            mutation UpdateUser(".concat(t.argsString,"){\n              updateUser(options: {\n                ").concat(t.argsFiller.join(", "),"\n              }) {\n              ").concat(r,"\n              }\n            }\n          "),variables:e})}))}var s=i(e);return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"UpdateUser",query:"\n      mutation UpdateUser(".concat(s.argsString,"){\n        updateUser(options: {\n          ").concat(s.argsFiller.join(", "),"\n        }) {\n          ").concat(r,"\n        }\n      }\n    "),variables:e})}))};var r,o=(r=t(5))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided");if(!e.id)throw Error("id in options is not provided");return e.registerInClient=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"user",query:"query user($id: String!, $registerInClient: String!){\n      user(id: $id, registerInClient: $registerInClient) {\n        _id\n        unionid\n        email\n        emailVerified\n        username\n        nickname\n        company\n        photo\n        phone\n        browser\n        registerInClient\n        registerMethod\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n        userLocation {\n          _id\n          when\n          where\n        }\n        userLoginHistory {\n          totalCount\n          list {\n            _id\n            when\n            success\n            ip\n            result\n          }\n        }\n      }\n    }",variables:e})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided");if(!e.ids)throw Error("ids in options is not provided");return e.registerInClient=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"userPatch",query:"query userPatch($ids: String!){\n      userPatch(ids: $ids) {\n        list {\n          _id\n          unionid\n          email\n          emailVerified\n          username\n          nickname\n          company\n          photo\n          browser\n          registerInClient\n          registerMethod\n          oauth\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n          userLocation {\n            _id\n            when\n            where\n          }\n          userLoginHistory {\n            totalCount\n            list {\n              _id\n              when\n              success\n              ip\n              result\n            }\n          }\n        }\n        totalCount\n      }\n    }",variables:e},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.email)throw Error("email in options is not provided");if(!e.verifyCode)throw Error("verifyCode in options is not provided");return e.client=this.userPoolId,this.UserServiceGql.request({operationName:"verifyResetPasswordVerifyCode",query:"\n      mutation verifyResetPasswordVerifyCode(\n        $email: String!,\n        $client: String!,\n        $verifyCode: String!\n      ) {\n        verifyResetPasswordVerifyCode(\n          email: $email,\n          client: $client,\n          verifyCode: $verifyCode\n        ) {\n            message\n            code\n        }\n      }\n    ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw Error("options is not provided.");var t={client:this.userPoolId,name:e.name,permissions:e.permissions,_id:e.roleId};return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"UpdateRole",query:"\n      mutation UpdateRole(\n        $_id: String!\n        $name: String!\n        $client: String!\n        $descriptions: String\n        $permissions: String\n      ) {\n        updateRole(\n          _id: $_id\n          name: $name\n          client: $client\n          descriptions: $descriptions\n          permissions: $permissions\n        ) {\n          _id,\n          name,\n          client,\n          descriptions,\n          permissions\n        }\n      }\n    ",variables:t},"ownerToken")}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=this;return this.UserServiceGql.request({operationName:"getUserPoolSettings",query:"query getUserPoolSettings($userPoolId: String!) {\n      getUserPoolSettings(userPoolId: $userPoolId) {\n          name\n          logo\n          descriptions\n          allowedOrigins\n          emailVerifiedDefault\n          useMiniLogin\n          useSelfWxapp\n          registerDisabled\n          showWXMPQRCode\n          enableEmail\n          jwtExpired\n        }\n      }",variables:{userPoolId:this.userPoolId}}).then((function(n){return e.clientInfo=n,e.userPoolSettings=n,n}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e.email)throw Error("email in options is not provided");return e.client=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"SendVerifyEmail",query:"\n      mutation SendVerifyEmail($email: String!, $client: String!) {\n        sendVerifyEmail(email: $email, client: $client) {\n          message\n        }\n      }\n    ",variables:e})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this,t=e.roleId,r=e.page,o=void 0===r?1:r,i=e.count,s=void 0===i?10:i;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"UserGroup",query:"query UserGroup($group: String!, $client: String!, $page: Int, $count: Int) {\n      userGroup(client: $client, group: $group, page: $page, count: $count) {\n        totalCount\n        list {\n          _id\n          group {\n            _id\n          }\n          client {\n            _id\n          }\n          user {\n            _id\n            photo\n            username\n            email\n          }\n          createdAt\n        }\n      }\n    }\n    ",variables:{client:n.userPoolId,group:t,page:o,count:s}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.phone)throw Error("email in options is not provided");if(!e.phoneCode)throw Error("emailCode in options is not provided");return e.userPoolId=this.userPoolId,this.UserServiceGql.request({operationName:"updatePhone",query:"\nmutation updatePhone(\n    $userPoolId: String!\n    $phone: String!\n    $phoneCode: String!\n    $oldPhone: String\n    $oldPhoneCode: String\n) {\n    updatePhone(\n        userPoolId: $userPoolId\n        phone: $phone\n        phoneCode: $phoneCode\n        oldPhone: $oldPhone\n        oldPhoneCode: $oldPhoneCode\n    ) {\n        _id\n        email\n        phone\n        emailVerified\n        username\n        nickname\n        company\n        photo\n        browser\n        registerInClient\n        registerMethod\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n    }\n}        \n      ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.email)throw Error("email in options is not provided");if(!e.emailCode)throw Error("emailCode in options is not provided");return e.userPoolId=this.userPoolId,this.UserServiceGql.request({operationName:"updateEmail",query:"\nmutation updateEmail(\n    $userPoolId: String!\n    $email: String!\n    $emailCode: String!\n    $oldEmail: String\n    $oldEmailCode: String\n) {\n    updateEmail(\n        userPoolId: $userPoolId\n        email: $email\n        emailCode: $emailCode\n        oldEmail: $oldEmail\n        oldEmailCode: $oldEmailCode\n    ) {\n        _id\n        email\n        phone\n        emailVerified\n        username\n        nickname\n        company\n        photo\n        browser\n        registerInClient\n        registerMethod\n        oauth\n        token\n        tokenExpiredAt\n        loginsCount\n        lastLogin\n        lastIP\n        signedUp\n        blocked\n        isDeleted\n    }\n}        \n      ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided");if(!e.email)throw Error("email in options is not provided");return e.userPoolId=this.userPoolId,this.UserServiceGql.request({operationName:"sendChangeEmailVerifyCode",query:"\n        mutation sendChangeEmailVerifyCode(\n          $email: String!,\n          $userPoolId: String!\n        ){\n            sendChangeEmailVerifyCode(\n            email: $email,\n            userPoolId: $userPoolId\n          ) {\n              message\n              code\n              status\n          }\n        }\n      ",variables:e})}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return this.UserServiceGql.request({operationName:"qiNiuUploadToken",query:"query qiNiuUploadToken {\n      qiNiuUploadToken\n    }"}).then((function(n){if(!n)throw{graphQLErrors:[{message:{message:"获取文件上传token失败"}}]};var t=new FormData;return t.append("file",e.photo),t.append("token",n),o.default.post("https://upload.qiniup.com/",t,{method:"post",headers:{"Content-Type":"multipart/form-data"}})})).then((function(e){return e.data})).then((function(n){return n.key&&(e.photo="https://usercontents.authing.cn/".concat(n.key)),e})).catch((function(e){if(e.graphQLErrors)throw e.graphQLErrors[0];throw{message:{message:e}}}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){if(r.default.inBrowser){var e=localStorage.getItem("_authing_token");e&&o.default.getInstance().setToken(e)}};var r=i(t(3)),o=i(t(4));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!o.default.inBrowser)throw Error("当前不是浏览器环境，无法选取文件");var n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=function(){e(n.files[0])},n.click()};var r,o=(r=t(3))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this,t=this;e||(e={});var r=e.mount||"authing__qrcode-root-node",o=e.interval||1500,i=e,s=i.tips,a=i.successTips,u=i.successRedirectTips,d=i.retryTips,c=i.failedTips;this.opts.enableFetchPhone=e.enableFetchPhone||this.opts.enableFetchPhone,this.opts.useSelfWxapp=e.useSelfWxapp||this.opts.useSelfWxapp;var l=!0;e.hasOwnProperty("redirect")&&(e.redirect||(l=!1));var p,f=e,h=f.onError,m=f.onSuccess,g=f.onIntervalStarting,v=f.onQRCodeShow,y=f.onQRCodeLoad,_=document.getElementById(r),C=!1,b=function(){};_?_.style="position:relative":((_=document.createElement("div")).id=r,_.style="z-index: 65535;position: fixed;background: #fff;width: 300px;height: 300px;left: 50%;margin-left: -150px;display: flex;justify-content: center;align-items: center;top: 50%;margin-top: -150px;border: 1px solid #ccc;",document.getElementsByTagName("body")[0].appendChild(_),C=!0);var A=document.createElement("style"),R="#authing__retry a:hover{outline:0px;text-decoration:none;}#authing__spinner{position:absolute;left:50%;margin-left:-6px;}.spinner{margin:100px auto;width:20px;height:20px;position:relative}.container1>div,.container2>div,.container3>div{width:6px;height:6px;background-color:#00a1ea;border-radius:100%;position:absolute;-webkit-animation:bouncedelay 1.2s infinite ease-in-out;animation:bouncedelay 1.2s infinite ease-in-out;-webkit-animation-fill-mode:both;animation-fill-mode:both}.spinner .spinner-container{position:absolute;width:100%;height:100%}.container2{-webkit-transform:rotateZ(45deg);transform:rotateZ(45deg)}.container3{-webkit-transform:rotateZ(90deg);transform:rotateZ(90deg)}.circle1{top:0;left:0}.circle2{top:0;right:0}.circle3{right:0;bottom:0}.circle4{left:0;bottom:0}.container2 .circle1{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.container3 .circle1{-webkit-animation-delay:-1.0s;animation-delay:-1.0s}.container1 .circle2{-webkit-animation-delay:-0.9s;animation-delay:-0.9s}.container2 .circle2{-webkit-animation-delay:-0.8s;animation-delay:-0.8s}.container3 .circle2{-webkit-animation-delay:-0.7s;animation-delay:-0.7s}.container1 .circle3{-webkit-animation-delay:-0.6s;animation-delay:-0.6s}.container2 .circle3{-webkit-animation-delay:-0.5s;animation-delay:-0.5s}.container3 .circle3{-webkit-animation-delay:-0.4s;animation-delay:-0.4s}.container1 .circle4{-webkit-animation-delay:-0.3s;animation-delay:-0.3s}.container2 .circle4{-webkit-animation-delay:-0.2s;animation-delay:-0.2s}.container3 .circle4{-webkit-animation-delay:-0.1s;animation-delay:-0.1s}@-webkit-keyframes bouncedelay{0%,80%,100%{-webkit-transform:scale(0.0)}40%{-webkit-transform:scale(1.0)}}@keyframes bouncedelay{0%,80%,100%{transform:scale(0.0);-webkit-transform:scale(0.0)}40%{transform:scale(1.0);-webkit-transform:scale(1.0)}}";A.type="text/css",A.styleSheet?A.styleSheet.cssText=R:A.innerHTML=R;document.getElementsByTagName("head")[0].appendChild(A);var w=function(){var e=document.getElementById("authing__spinner");_.removeChild(e)},$=function(e){var n=document.createElement("span");return n.class="authing__heading-subtitle",n.style=C?"display: block;font-weight: 400;font-size: 12px;color: #888;":"display: block;font-weight: 400;font-size: 15px;color: #888;ine-height: 48px;",n.innerHTML=e,n},S=function(e){var n=document.createElement("img");return n.class="authing__qrcode",n.src=e,n.width=240,n.height=240,n},P=function(e,n,t){var r=document.createElement("div");r.id="authing__retry",r.style="text-align:center;width: 240px;height: 240px;position: absolute;left: 50%;top: 0px;margin-left: -120px;background-color: rgba(0,0,0, 0.5);line-height:240px;color:#fff;font-weight:600;";var o=document.createElement("a");return o.innerHTML=e,o.style="color:#fff;border-bottom: 1px solid #fff;cursor: pointer;",o.onclick=n,o.id=t,r.appendChild(o),r};function I(e,n,t){var r=$(n);(p=document.createElement("div")).id="authing__qrcode-wrapper",p.style="text-align: center;position: relative;";var o=S("https://usercontents.authing.cn/authing_user_manager_wxapp_qrcode.jpg");o.style=C?"margin-top: 16px;":"margin-top: 12px;",o.onload=function(){w()};var i=P(d||"点击重试",(function(){b()}),t||"__authing_retry_btn");p.appendChild(o),p.appendChild(i),p.appendChild(r),e.appendChild(p)}(b=function(){_.innerHTML='<div id="authing__spinner" class="spinner"><div class="spinner-container container1"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container2"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div><div class="spinner-container container3"><div class="circle1"></div><div class="circle2"></div><div class="circle3"></div><div class="circle4"></div></div></div>',t.genQRCode(t.opts.userPoolId).then((function(e){if(200!==(e=e.data).code)I(_,e.message),h&&h(e);else{var r=e.data;if(y&&y(r),sessionStorage.qrcodeUrl=r.qrcode,sessionStorage.qrcode=JSON.stringify(r),_){(p=document.createElement("div")).id="authing__qrcode-wrapper",p.style="text-align: center;position: relative;";var i=S(r.qrcode);i.onload=function(){w(),v&&v(r);var e=0;e=setInterval((function(){g&&g(e),t.checkQR().then((function(t){var r=t.data.data;if(200===r.code)if(clearInterval(e),n.tokenManager.setUserToken(r.data.token),l){var o=P(u||"扫码成功，即将跳转",(function(){window.location.href="".concat(r.redirect,"?code=200&data=").concat(JSON.stringify(r.data))}),"__authing_success_redirect_tip");setTimeout((function(){window.location.href="".concat(r.redirect,"?code=200&data=").concat(JSON.stringify(r.data))}),600),p.appendChild(o)}else{var i=P(a||"扫码成功",null,"__authing_success_tip");p.appendChild(i),m&&m(r)}}))}),o)};var d=$(s||"使用 <strong>微信</strong> 或小程序 <strong>身份管家</strong> 扫码登录");p.appendChild(i),p.appendChild(d),_.appendChild(p)}}})).catch((function(e){I(_,c||"网络出错，请重试","__authing_failed_tip"),h&&h(e)}))})()}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){document.getElementById("__authing_failed_tip").innerHTML=e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){document.getElementById("__authing_retry_btn").innerHTML=e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){document.getElementById("__authing_success_tip").innerHTML=e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){document.getElementById("__authing_success_redirect_tip").innerHTML=e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw Error("options is not provided.");e.password&&(e.password=(0,o.default)(e.password));var n={registerInClient:this.userPoolId,phone:e.phone,password:e.password};r.default.inBrowser&&(n.browser=window.navigator.userAgent);return this.UserServiceGql.request({operationName:"login",query:"mutation login($phone: String, $password: String, $registerInClient: String!, $browser: String) {\n        login(phone: $phone, password: $password, registerInClient: $registerInClient, browser: $browser) {\n          _id\n          email\n          unionid\n          openid\n          emailVerified\n          username\n          nickname\n          phone\n          company\n          photo\n          browser\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n        }\n    }",variables:n}).then((function(e){return e&&e.token&&(i.default.getInstance().setUserToken(e.token),r.default.inBrowser&&localStorage.setItem("_authing_token",e.token)),e}))};var r=s(t(3)),o=s(t(5)),i=s(t(4));function s(e){return e&&e.__esModule?e:{default:e}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw"phone is not provided";var n="".concat(this.opts.host.user.replace("/graphql",""),"/send_smscode/").concat(e,"/").concat(this.userPoolId);return o.default.get(n).then((function(e){if(200!==e.data.code)throw Error(JSON.stringify(e.data));return e.data}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(!e)throw"phone is not provided";var n="".concat(this.opts.host.user.replace("/graphql",""),"/notification/send_register_smscode/").concat(e,"/").concat(this.userPoolId);return o.default.get(n).then((function(e){if(200!==e.data.code)throw Error(JSON.stringify(e.data));return e.data}))};var r,o=(r=t(2))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=L(t(111)),o=L(t(112)),i=L(t(113)),s=L(t(114)),a=L(t(115)),u=L(t(116)),d=L(t(117)),c=L(t(118)),l=L(t(119)),p=L(t(120)),f=L(t(121)),h=L(t(122)),m=L(t(123)),g=L(t(124)),v=L(t(125)),y=L(t(126)),_=L(t(127)),C=L(t(128)),b=L(t(129)),A=L(t(130)),R=L(t(131)),w=L(t(132)),$=L(t(133)),S=L(t(134)),P=L(t(135)),I=L(t(136)),k=L(t(137)),B=L(t(138)),q=L(t(139)),O=L(t(140)),U=L(t(141)),T=L(t(142)),E=L(t(143)),x=L(t(144)),M=L(t(145)),j=L(t(146)),G=L(t(147));function L(e){return e&&e.__esModule?e:{default:e}}var F={createGroup:r.default,group:o.default,groupList:i.default,updateGroup:s.default,deleteGroup:a.default,deleteGroupBatch:u.default,groupRoleList:y.default,groupUserList:A.default,role:d.default,roleList:p.default,createRole:c.default,updateRole:l.default,deleteRole:f.default,deleteRoleBatch:h.default,addRoleToGroup:m.default,addRoleToGroupBatch:g.default,removeRoleFromGroup:v.default,removeRoleFromGroupBatch:_.default,addUserToGroup:C.default,addUserToGroupBatch:b.default,removeUserFromGroup:R.default,removeUserFromGroupBatch:w.default,assignRoleToUser:$.default,assignRoleToUserBatch:S.default,revokeRoleFromUser:P.default,revokeRoleFromUserBatch:I.default,roleUserList:k.default,permission:O.default,permissionList:U.default,createPermission:B.default,updatePermission:q.default,deletePermission:T.default,deletePermissionBatch:E.default,addPermissionToRole:x.default,addPermissionToRoleBatch:M.default,removePermissionFromRole:j.default,removePermissionFromRoleBatch:G.default};n.default=F},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"name",type:String}]);return e.userPoolId=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"CreateRBACGroup",query:"\n  mutation CreateRBACGroup($input: CreateRBACGroupInput!) {\n    createRBACGroup(input: $input) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  \n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRBACGroup",query:"\n  query QueryRBACGroup($_id: String!) {\n    rbacGroup(_id: $_id) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this,t={userPoolId:this.userPoolId};e&&(t=Object.assign(t,e));return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRbacGroupList",query:"\n  query QueryRbacGroupList($userPoolId: String!, $sortBy: SortByEnum = CREATEDAT_DESC, $page: Int = 0, $count: Int = 10) {\n    rbacGroupList(userPoolId: $userPoolId, sortBy: $sortBy, page: $page, count: $count) {\n      totalCount\n      list {\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n      }\n    }\n  }\n  \n  ",variables:t})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"_id",type:String}]);return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"UpdateRBACGroup",query:"\n  mutation UpdateRBACGroup($input: UpdateRBACGroupInput!) {\n    updateRBACGroup(input: $input) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  \n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"DeleteRBACGroup",query:"\n  mutation DeleteRBACGroup($_id: String!) {\n    deleteRBACGroup(_id: $_id) {\n      message\n      code\n      status\n    }\n  }  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e instanceof Array)throw"idList must be an array!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"DeleteRBACGroupBatch",query:"\n  mutation DeleteRBACGroupBatch($idList: [String!]!) {\n    deleteRBACGroupBatch(idList: $idList) {\n      message\n      code\n      status\n    }\n  }\n  \n  ",variables:{idList:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRBACRole",query:"\n  query QueryRBACRole($_id: String!) {\n    rbacRole(_id: $_id) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"name",type:String},{name:"description",type:String}]);return e.userPoolId=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"CreateRBACRole",query:"\n  mutation CreateRBACRole($input: CreateRBACRoleInput!){\n    createRBACRole(input: $input){\n        _id\n        userPoolId\n        name\n        description\n    }\n}\n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"_id",type:String},{name:"name",type:String}]);return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"UpdateRBACRole",query:"\n  mutation UpdateRBACRole($input: UpdateRBACRoleInput!){\n    updateRBACRole(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this,t={userPoolId:this.userPoolId};e&&(t=Object.assign(t,e));return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRbacRoleList",query:"\n  query QueryRbacRoleList($userPoolId: String!, $sortBy: SortByEnum, $page: Int, $count: Int) {\n    rbacRoleList(userPoolId: $userPoolId, sortBy: $sortBy, page: $page, count: $count) {\n      totalCount\n      list {\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n      }\n    }\n  }\n  \n  ",variables:t})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"DeleteRBACRole",query:"\n  mutation DeleteRBACRole($_id: String!) {\n    deleteRBACRole(_id: $_id) {\n      message\n      code\n      status\n    }\n  }  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e instanceof Array)throw"idList must be an array!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"DeleteRBACRoleBatch",query:"\n  mutation DeleteRBACRoleBatch($idList: [String!]!) {\n    deleteRBACRoleBatch(idList: $idList) {\n      message\n      code\n      status\n    }\n  }  \n  ",variables:{idList:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"roleId",type:String},{name:"groupId",type:String}]);var r="\n  mutation AddRoleToRBACGroup($input: AddRoleToRBACGroupInput!){\n    addRoleToRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchRoles;i&&(r="\nmutation AddRoleToRBACGroup($input: AddRoleToRBACGroupInput!){\n    addRoleToRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        roles {\n            totalCount\n            list {\n                _id\n                name\n                description\n                createdAt\n                updatedAt\n            }\n        }\n    }\n}");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"AddRoleToRBACGroup",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.roles,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"roleIdList",type:Array},{name:"groupId",type:String}]);var r="\n  mutation AddRoleToRBACGroupBatch($input: AddRoleToRBACGroupBatchInput!){\n    addRoleToRBACGroupBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchRoles;i&&(r="\n    mutation AddRoleToRBACGroupBatch($input: AddRoleToRBACGroupBatchInput!){\n      addRoleToRBACGroupBatch(input: $input){\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n          roles {\n            totalCount\n            list {\n                _id\n                name\n                description\n                createdAt\n                updatedAt\n            }\n        }\n      }\n  }\n");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"AddRoleToRBACGroupBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.roles,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"roleId",type:String},{name:"groupId",type:String}]);var r="\nmutation RemoveRoleFromRBACGroup($input: RemoveRoleFromRBACGroupInput!){\n    removeRoleFromRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchRoles;i&&(r="\n    mutation RemoveRoleFromRBACGroup($input: RemoveRoleFromRBACGroupInput!){\n      removeRoleFromRBACGroup(input: $input){\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n          roles {\n            totalCount\n            list {\n                _id\n                name\n                description\n                createdAt\n                updatedAt\n            }\n        }\n      }\n  }");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"RemoveRoleFromRBACGroup",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.roles,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRBACGroupRoleList",query:"\n  query QueryRBACGroupRoleList($_id: String!, $sortBy: SortByEnum = CREATEDAT_DESC, $page: Int = 0, $count: Int = 10) {\n    rbacGroup(_id: $_id) {\n      _id\n      name\n      description\n      roles(sortBy: $sortBy, page: $page, count: $count) {\n        totalCount\n        list {\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n      }\n    }\n  }\n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"roleIdList",type:Array},{name:"groupId",type:String}]);var r="\nmutation RemoveRoleFromRBACGroupBatch($input: RemoveRoleFromRBACGroupBatchInput!){\n    removeRoleFromRBACGroupBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchRoles;i&&(r="\nmutation RemoveRoleFromRBACGroupBatch($input: RemoveRoleFromRBACGroupBatchInput!){\n    removeRoleFromRBACGroupBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        roles {\n          totalCount\n          list {\n              _id\n              name\n              description\n              createdAt\n              updatedAt\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"RemoveRoleFromRBACGroupBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.roles,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userId",type:String},{name:"groupId",type:String}]);var r="\n  mutation AddUserToRBACGroup($input: AddUserToRBACGroupInput!){\n    addUserToRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchUsers;i&&(r="\nmutation AddUserToRBACGroup($input: AddUserToRBACGroupInput!){\n    addUserToRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        users {\n          totalCount\n          list {\n            _id\n            unionid\n            email\n            emailVerified\n            username\n            nickname\n            company\n            photo\n            phone\n            browser\n            registerInClient\n            registerMethod\n            oauth\n            token\n            tokenExpiredAt\n            loginsCount\n            lastLogin\n            lastIP\n            signedUp\n            blocked\n            isDeleted\n            userLocation {\n              _id\n              when\n              where\n            }\n            userLoginHistory {\n              totalCount\n              list {\n                _id\n                when\n                success\n                ip\n                result\n              }\n            }\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"AddUserToRBACGroup",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userIdList",type:String},{name:"groupId",type:String}]);var r="\nmutation AddUserToRBACGroupBatch($input: AddUserToRBACGroupBatchInput!){\n  addUserToRBACGroupBatch(input: $input){\n    _id\n    name\n    description\n    createdAt\n    updatedAt\n  }\n}\n  ",i=n&&n.fetchUsers;i&&(r="\n    mutation AddUserToRBACGroupBatch($input: AddUserToRBACGroupBatchInput!){\n      addUserToRBACGroupBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        users {\n          totalCount\n          list {\n            _id\n            unionid\n            email\n            emailVerified\n            username\n            nickname\n            company\n            photo\n            phone\n            browser\n            registerInClient\n            registerMethod\n            oauth\n            token\n            tokenExpiredAt\n            loginsCount\n            lastLogin\n            lastIP\n            signedUp\n            blocked\n            isDeleted\n            userLocation {\n              _id\n              when\n              where\n            }\n            userLoginHistory {\n              totalCount\n              list {\n                _id\n                when\n                success\n                ip\n                result\n              }\n            }\n          }\n        }\n      }\n    }    \n");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"AddUserToRBACGroupBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRBACGroupUserList",query:"\n  query QueryRBACGroupUserList($_id: String!, $sortBy: SortByEnum = CREATEDAT_DESC, $page: Int = 0, $count: Int = 10) {\n    rbacGroup(_id: $_id) {\n      _id\n      name\n      description\n      users(sortBy: $sortBy, page: $page, count: $count) {\n        totalCount\n        list {\n          _id\n          unionid\n          email\n          emailVerified\n          username\n          nickname\n          company\n          photo\n          phone\n          browser\n          registerInClient\n          registerMethod\n          oauth\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n          userLocation {\n            _id\n            when\n            where\n          }\n          userLoginHistory {\n            totalCount\n            list {\n              _id\n              when\n              success\n              ip\n              result\n            }\n          }\n        }\n      }\n    }\n  }  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userId",type:String},{name:"groupId",type:String}]);var r="\n  mutation removeUserFromRBACGroup($input: RemoveUserFromRBACGroupInput!) {\n    removeUserFromRBACGroup(input: $input) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  ",i=n&&n.fetchUsers;i&&(r="\n    mutation removeUserFromRBACGroup($input: RemoveUserFromRBACGroupInput!){\n      removeUserFromRBACGroup(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        users {\n          totalCount\n          list {\n            _id\n            unionid\n            email\n            emailVerified\n            username\n            nickname\n            company\n            photo\n            phone\n            browser\n            registerInClient\n            registerMethod\n            oauth\n            token\n            tokenExpiredAt\n            loginsCount\n            lastLogin\n            lastIP\n            signedUp\n            blocked\n            isDeleted\n            userLocation {\n              _id\n              when\n              where\n            }\n            userLoginHistory {\n              totalCount\n              list {\n                _id\n                when\n                success\n                ip\n                result\n              }\n            }\n          }\n        }\n      }\n    }    \n");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"removeUserFromRBACGroup",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userIdList",type:String},{name:"groupId",type:String}]);var r="\n  mutation removeUserFromRBACGroupBatch($input: RemoveUserFromRBACGroupBatchInput!) {\n    removeUserFromRBACGroupBatch(input: $input) {\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n    }\n  }\n  ",i=n&&n.fetchUsers;i&&(r="\n    mutation removeUserFromRBACGroupBatch($input: RemoveUserFromRBACGroupBatchInput!) {\n      removeUserFromRBACGroupBatch(input: $input) {\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        users {\n          totalCount\n          list {\n            _id\n            unionid\n            email\n            emailVerified\n            username\n            nickname\n            company\n            photo\n            phone\n            browser\n            registerInClient\n            registerMethod\n            oauth\n            token\n            tokenExpiredAt\n            loginsCount\n            lastLogin\n            lastIP\n            signedUp\n            blocked\n            isDeleted\n            userLocation {\n              _id\n              when\n              where\n            }\n            userLoginHistory {\n              totalCount\n              list {\n                _id\n                when\n                success\n                ip\n                result\n              }\n            }\n          }\n        }\n      }\n    }\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"removeUserFromRBACGroupBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userId",type:String},{name:"roleId",type:String}]);var r="\nmutation assignRBACRoleToUser($input: AssignUserToRBACRoleInput!){\n    assignRBACRoleToUser(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchUsers;i&&(r="\n    mutation assignRBACRoleToUser($input: AssignUserToRBACRoleInput!) {\n      assignRBACRoleToUser(input: $input) {\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        users {\n          totalCount\n          list {\n            _id\n            unionid\n            email\n            emailVerified\n            username\n            nickname\n            company\n            photo\n            phone\n            browser\n            registerInClient\n            registerMethod\n            oauth\n            token\n            tokenExpiredAt\n            loginsCount\n            lastLogin\n            lastIP\n            signedUp\n            blocked\n            isDeleted\n            userLocation {\n              _id\n              when\n              where\n            }\n            userLoginHistory {\n              totalCount\n              list {\n                _id\n                when\n                success\n                ip\n                result\n              }\n            }\n          }\n        }\n      }\n    }    \n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"assignRBACRoleToUser",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userIdList",type:String},{name:"roleId",type:String}]);var r="\n  mutation assignRBACRoleToUserBatch($input: AssignUserToRBACRoleBatchInput!){\n    assignRBACRoleToUserBatch(input: $input){\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n      }\n  }\n    ",i=n&&n.fetchUsers;i&&(r="\n  mutation assignRBACRoleToUserBatch($input: AssignUserToRBACRoleBatchInput!){\n    assignRBACRoleToUserBatch(input: $input){\n      _id\n      name\n      description\n      createdAt\n      updatedAt\n      users {\n        totalCount\n        list {\n          _id\n          unionid\n          email\n          emailVerified\n          username\n          nickname\n          company\n          photo\n          phone\n          browser\n          registerInClient\n          registerMethod\n          oauth\n          token\n          tokenExpiredAt\n          loginsCount\n          lastLogin\n          lastIP\n          signedUp\n          blocked\n          isDeleted\n          userLocation {\n            _id\n            when\n            where\n          }\n          userLoginHistory {\n            totalCount\n            list {\n              _id\n              when\n              success\n              ip\n              result\n            }\n          }\n        }\n      }\n    }\n  }\n      ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"assignRBACRoleToUserBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userId",type:String},{name:"roleId",type:String}]);var r="\nmutation revokeRBACRoleFromUser($input: RevokeRBACRoleFromUserInput!){\n    revokeRBACRoleFromUser(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchUsers;i&&(r="\n  mutation revokeRBACRoleFromUser($input: RevokeRBACRoleFromUserInput!){\n    revokeRBACRoleFromUser(input: $input){\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n            users {\n              totalCount\n              list {\n                _id\n                unionid\n                email\n                emailVerified\n                username\n                nickname\n                company\n                photo\n                phone\n                browser\n                registerInClient\n                registerMethod\n                oauth\n                token\n                tokenExpiredAt\n                loginsCount\n                lastLogin\n                lastIP\n                signedUp\n                blocked\n                isDeleted\n                userLocation {\n                  _id\n                  when\n                  where\n                }\n                userLoginHistory {\n                  totalCount\n                  list {\n                    _id\n                    when\n                    success\n                    ip\n                    result\n                  }\n                }\n              }\n        }\n  }\n      ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"revokeRBACRoleFromUser",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"userIdList",type:String},{name:"roleId",type:String}]);var r="\nmutation revokeRBACRoleFromUserBatch($input: RevokeRBACRoleFromUserBatchInput!){\n    revokeRBACRoleFromUserBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchUsers;i&&(r="\n  mutation revokeRBACRoleFromUserBatch($input: RevokeRBACRoleFromUserBatchInput!){\n    revokeRBACRoleFromUserBatch(input: $input){\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n            users {\n              totalCount\n              list {\n                _id\n                unionid\n                email\n                emailVerified\n                username\n                nickname\n                company\n                photo\n                phone\n                browser\n                registerInClient\n                registerMethod\n                oauth\n                token\n                tokenExpiredAt\n                loginsCount\n                lastLogin\n                lastIP\n                signedUp\n                blocked\n                isDeleted\n                userLocation {\n                  _id\n                  when\n                  where\n                }\n                userLoginHistory {\n                  totalCount\n                  list {\n                    _id\n                    when\n                    success\n                    ip\n                    result\n                  }\n                }\n              }\n        }\n  }\n      ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"revokeRBACRoleFromUserBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.users,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"QueryRBACRoleUserList",query:"\n  query QueryRBACRoleUserList($_id: String!, $sortBy: SortByEnum = CREATEDAT_DESC, $page: Int = 0, $count: Int = 10) {\n    rbacRole(_id: $_id) {\n      _id\n      userPoolId\n      name\n      description\n      users(sortBy: $sortBy, page: $page, count: $count) {\n        totalCount\n        list {\n          _id\n          name\n          email\n        }\n      }\n    }\n  }\n  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"name",type:String},{name:"description",type:String}]);return e.userPoolId=this.userPoolId,this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"createRBACPermission",query:"\n  mutation createRBACPermission($input: CreateRBACPermissionInput!){\n    createRBACPermission(input: $input){\n        _id\n        name\n        userPoolId\n        createdAt\n        updatedAt\n        description\n    }\n}\n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;(0,o.default)(e,[{name:"_id",type:String},{name:"name",type:String}]);return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"updateRBACPermission",query:"\n  mutation updateRBACPermission($input: UpdateRBACPermissionInput!){\n    updateRBACPermission(input: $input){\n        _id\n        name\n        createdAt\n        updatedAt\n        description\n    }\n}\n  ",variables:{input:e}})}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"rbacPermission",query:"\n  query rbacPermission($_id: String!) {\n    rbacPermission(_id: $_id) {\n      _id\n      name\n      createdAt\n      updatedAt\n      description\n    }\n  }  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this,t={userPoolId:this.userPoolId};e&&(t=Object.assign(t,e));return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"rbacPermissionList",query:"\n  query rbacPermissionList($userPoolId: String!, $sortBy: SortByEnum, $page: Int, $count: Int) {\n    rbacPermissionList(userPoolId: $userPoolId, sortBy: $sortBy, page: $page, count: $count) {\n      totalCount\n      list {\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n      }\n    }\n  }\n  \n  ",variables:t})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"deleteRBACPermission",query:"\n  mutation deleteRBACPermission($_id: String!) {\n    deleteRBACPermission(_id: $_id) {\n      message\n      code\n      status\n    }\n  }  \n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e instanceof Array)throw"idList must be an array!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"deleteRBACPermissionBatch",query:"\n  mutation deleteRBACPermissionBatch($idList: [String!]!) {\n    deleteRBACPermissionBatch(idList: $idList) {\n      message\n      code\n      status\n    }\n  }  \n  ",variables:{idList:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"permissionId",type:String},{name:"roleId",type:String}]);var r="\n  mutation addPermissionToRBACRole($input: AddPermissionToRBACRoleInput!){\n    addPermissionToRBACRole(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchPermissions;i&&(r="\nmutation addPermissionToRBACRole($input: AddPermissionToRBACRoleInput!){\n  addPermissionToRBACRole(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        permissions {\n          totalCount\n          list {\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"addPermissionToRBACRole",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.permissions,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"permissionIdList",type:Array},{name:"roleId",type:String}]);var r="\n  mutation addPermissionToRBACRoleBatch($input: AddPermissionToRBACRoleBatchInput!){\n    addPermissionToRBACRoleBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchPermissions;i&&(r="\nmutation addPermissionToRBACRoleBatch($input: AddPermissionToRBACRoleBatchInput!){\n  addPermissionToRBACRoleBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        permissions {\n          totalCount\n          list {\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"addPermissionToRBACRoleBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.permissions,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"permissionId",type:String},{name:"roleId",type:String}]);var r="\n  mutation removePermissionFromRBACRole($input: RemovePermissionFromRBACRoleInput!){\n    removePermissionFromRBACRole(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchPermissions;i&&(r="\nmutation removePermissionFromRBACRole($input: RemovePermissionFromRBACRoleInput!){\n  removePermissionFromRBACRole(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        permissions {\n          totalCount\n          list {\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"removePermissionFromRBACRole",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.permissions,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=this;(0,o.default)(e,[{name:"permissionIdList",type:String},{name:"roleId",type:String}]);var r="\n  mutation removePermissionFromRBACRoleBatch($input: RemovePermissionFromRBACRoleBatchInput!){\n    removePermissionFromRBACRoleBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n    }\n}\n  ",i=n&&n.fetchPermissions;i&&(r="\nmutation removePermissionFromRBACRoleBatch($input: RemovePermissionFromRBACRoleBatchInput!){\n  removePermissionFromRBACRoleBatch(input: $input){\n        _id\n        name\n        description\n        createdAt\n        updatedAt\n        permissions {\n          totalCount\n          list {\n            _id\n            name\n            description\n            createdAt\n            updatedAt\n          }\n        }\n    }\n}\n    ");return this.fetchToken.then((function(){return t.UserServiceGql.request({operationName:"removePermissionFromRBACRoleBatch",query:r,variables:{input:e}}).then((function(e){var n={code:200,message:"操作成功"};return i?(n.data=e.permissions,n):n}))}))};var r,o=(r=t(0))&&r.__esModule?r:{default:r}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw"_id must be provided!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"userPermissionList",query:"\n  query userPermissionList($_id: String!){\n    userPermissionList(_id: $_id){\n        totalCount\n        rawList\n        list {\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n    }\n}\n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw"_id must be provided!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"userGroupList",query:"\n  query userGroupList($_id: String!){\n    userGroupList(_id: $_id){\n        totalCount\n        rawList\n        list {\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n    }\n}\n  ",variables:{_id:e}})}))}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var n=this;if(!e)throw"_id must be provided!";return this.fetchToken.then((function(){return n.UserServiceGql.request({operationName:"userRoleList",query:"\n  query userRoleList($_id: String!){\n    userRoleList(_id: $_id){\n        totalCount\n        rawList\n        list {\n          _id\n          name\n          description\n          createdAt\n          updatedAt\n        }\n    }\n}\n  ",variables:{_id:e}})}))}}]);