<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>test authing-js-sdk</title>
</head>
<body>

    <script src="/dist/authing-js-sdk-browser.min.js?v=43"></script>

    <script>
        
        var auth = new Authing({
            clientId: '5cc2a350e056c76eea71db8a',
            timestamp: Math.round(new Date() / 1000),
            nonce: Math.ceil(Math.random() * Math.pow(10, 6)),
            // host: {
            //     user: 'http://localhost:5555/graphql',
            //     oauth: 'http://localhost:5556/graphql'
            // },
            enableFetchPhone: true,
            // useSelfWxapp: true,
        });

        auth.then((authing) => {
            authing.startWXAppScaning({
                redirect: false,
                onSuccess(userInfo) {
                    console.log(userInfo);
                },
                onQRCodeLoad(qrcode) {
                    console.log('load', qrcode);
                },
                onQRCodeShow(qrcode) {
                    console.log('show', qrcode);
                }
            })
        });

    </script>
    
</body>
</html>